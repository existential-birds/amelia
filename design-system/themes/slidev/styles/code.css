/*
 * ============================================================================
 * SLIDEV THEME AMELIA - CODE SYNTAX HIGHLIGHTING
 * ============================================================================
 *
 * Custom syntax highlighting for code blocks.
 *
 * Color scheme:
 * - Gold (--primary): Keywords, operators, important symbols
 * - Green (--status-completed): Strings, success states
 * - Blue (--accent): Functions, methods, types
 * - Muted (--muted-foreground): Comments, documentation
 * - Foreground: Default text, variables
 * - Red (--destructive): Errors, warnings, deleted text
 */

/* ============================================================================
   Code Block Container
   ============================================================================ */

pre {
  background-color: var(--card);
  border: 1px solid var(--border);
  border-radius: 0.5rem;
  padding: 1.5em;
  overflow-x: auto;
  margin: 1.5em 0;
}

pre code {
  font-family: var(--font-mono);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-mono-regular);
  line-height: var(--line-height-base);
  background: transparent;
  padding: 0;
  border-radius: 0;
}

/* ============================================================================
   Syntax Highlighting - Base Tokens
   ============================================================================ */

/* Default code text */
.token {
  color: var(--foreground);
}

/* Comments - Muted gray */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  color: var(--muted-foreground);
  font-style: italic;
}

/* Punctuation - Subdued */
.token.punctuation {
  color: var(--foreground);
  opacity: 0.7;
}

/* ============================================================================
   Keywords & Control Flow - Gold
   ============================================================================ */

.token.keyword,
.token.control,
.token.directive,
.token.unit,
.token.statement,
.token.regex,
.token.atrule {
  color: var(--primary);
  font-weight: var(--font-weight-mono-medium);
}

/* Operators */
.token.operator,
.token.entity,
.token.url {
  color: var(--primary);
}

/* ============================================================================
   Strings & Template Literals - Green
   ============================================================================ */

.token.string,
.token.attr-value,
.token.template-string,
.token.char {
  color: var(--status-completed);
}

/* Template interpolation */
.token.interpolation,
.token.interpolation-punctuation {
  color: var(--accent);
}

/* ============================================================================
   Functions & Methods - Blue
   ============================================================================ */

.token.function,
.token.function-name,
.token.method,
.token.builtin {
  color: var(--accent);
  font-weight: var(--font-weight-mono-medium);
}

/* Class names and types */
.token.class-name,
.token.type-annotation,
.token.primitive {
  color: var(--accent);
}

/* ============================================================================
   Variables & Properties - Default Foreground
   ============================================================================ */

.token.variable,
.token.property,
.token.property-access,
.token.constant {
  color: var(--foreground);
}

/* ============================================================================
   Attributes & Tags - Gold
   ============================================================================ */

.token.tag,
.token.selector,
.token.attr-name {
  color: var(--primary);
}

/* ============================================================================
   Numbers & Booleans - Accent
   ============================================================================ */

.token.number,
.token.boolean,
.token.hexcode {
  color: var(--accent);
}

/* ============================================================================
   Special Cases
   ============================================================================ */

/* Important text */
.token.important,
.token.bold {
  font-weight: var(--font-weight-mono-medium);
  color: var(--primary);
}

/* Italic text */
.token.italic {
  font-style: italic;
}

/* Deleted/removed code */
.token.deleted,
.token.symbol {
  color: var(--destructive);
}

/* Inserted/added code */
.token.inserted {
  color: var(--status-completed);
}

/* Namespace */
.token.namespace {
  opacity: 0.7;
}

/* ============================================================================
   Line Numbers (if enabled)
   ============================================================================ */

.line-numbers .line-numbers-rows {
  border-right: 1px solid var(--border);
  color: var(--muted-foreground);
}

.line-numbers-rows > span:before {
  color: var(--muted-foreground);
}

/* ============================================================================
   Line Highlighting
   ============================================================================ */

/* Highlighted line */
.highlight-line {
  background-color: var(--muted);
  border-left: 3px solid var(--primary);
  display: block;
  margin: 0 -1.5em;
  padding: 0 1.5em;
}

/* Error line */
.error-line {
  background-color: var(--destructive);
  opacity: 0.1;
  border-left: 3px solid var(--destructive);
  display: block;
  margin: 0 -1.5em;
  padding: 0 1.5em;
}

/* ============================================================================
   Language-Specific Tweaks
   ============================================================================ */

/* JSON keys */
.language-json .token.property {
  color: var(--accent);
}

/* YAML keys */
.language-yaml .token.atrule {
  color: var(--foreground);
}

/* Shell/Bash prompts */
.language-bash .token.function,
.language-sh .token.function {
  color: var(--primary);
}

/* CSS/SCSS variables */
.language-css .token.variable,
.language-scss .token.variable {
  color: var(--accent);
}

/* Markdown code */
.language-markdown .token.code {
  color: var(--status-completed);
}

/* ============================================================================
   Diff Syntax
   ============================================================================ */

.language-diff .token.deleted {
  background-color: var(--destructive);
  opacity: 0.2;
  display: block;
}

.language-diff .token.inserted {
  background-color: var(--status-completed);
  opacity: 0.2;
  display: block;
}

/* ============================================================================
   Code Title/Header
   ============================================================================ */

.slidev-code-title {
  background-color: var(--secondary);
  color: var(--secondary-foreground);
  font-family: var(--font-mono);
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-mono-medium);
  padding: 0.5em 1em;
  border-radius: 0.5rem 0.5rem 0 0;
  border-bottom: 1px solid var(--border);
}
